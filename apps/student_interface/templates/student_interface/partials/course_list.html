{% partialdef course-card %}
<a href="{% url 'student_interface:course_home' collection_slug=course.slug %}"
   class="block p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-50 transition no-underline">
    <div class="flex items-start justify-between mb-2">
        <h4 class="text-xl font-semibold text-gray-900">{{ course.title }}</h4>
    </div>
    {% if course.description %}
        <p class="text-gray-600">{{ course.description|truncatewords:20 }}</p>
    {% endif %}
</a>
{% endpartialdef %}

{% if registered_courses %}
    <div class="mb-12">
        <h3 class="text-xl font-semibold mb-4 text-gray-800">My Courses</h3>
        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
            {% for course in registered_courses %}
                    {% partial course-card %}
            {% endfor %}
        </div>
    </div>
{% endif %}

{% if all_courses %}
    <div>
        <h3 class="text-xl font-semibold mb-4 text-gray-800">
            {% if registered_courses %}All Available Courses{% else %}Available Courses{% endif %}
        </h3>
        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
            {% for course in all_courses %}
                    {% partial course-card %}
            {% endfor %}
        </div>
    </div>
{% else %}
    {% if not registered_courses %}
        <div class="text-center py-12">
            <p class="text-gray-500 text-lg">No courses available yet.</p>
        </div>
    {% endif %}
{% endif %}
